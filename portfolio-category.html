<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>作品分类 - JUNJUN摄影</title>
    
    <!-- 优化的预加载策略 -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"></noscript>
    
    <!-- 延迟加载非关键脚本 -->
    <script src="https://cdn.tailwindcss.com" defer></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" defer></script>
    
    <!-- 引入外部样式文件 -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="portfolio-category.css">
</head>
<body class="bg-[#0A0A0F] text-white overflow-x-hidden" style="background-color: var(--bg-primary); color: var(--text-primary); transition: background-color 0.3s ease, color 0.3s ease;">
    
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 w-full bg-[#0A0A0F] bg-opacity-70 z-50 py-4" style="background-color: var(--nav-bg);">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold">JUNJUN</a>
            <div class="hidden md:flex space-x-8">
                <a href="index.html#home" class="nav-link active">首页</a>
                <a href="index.html#portfolio" class="nav-link">作品集</a>
                <a href="index.html#about" class="nav-link">幕后</a>
                <a href="index.html#contact" class="nav-link">关于我</a>
            </div>
            <div class="flex items-center space-x-2">
                <button id="theme-toggle-btn" aria-label="切换深浅模式">
                    <i data-lucide="moon"></i>
                </button>
                <button id="mobile-menu-button" class="md:hidden">
                    <i data-lucide="menu"></i>
                </button>
            </div>
        </div>
    </nav>
    <!-- Mobile Menu (moved outside nav element and positioned below nav) -->
    <div id="mobile-menu" class="hidden md:hidden fixed top-[64px] right-0 min-w-fit bg-[#0A0A0F] bg-opacity-70 backdrop-filter blur(10px) -webkit-backdrop-filter blur(10px) py-4 px-6 shadow-lg rounded-lg z-50" style="background-color: var(--nav-bg);">
        <div class="flex flex-col space-y-4">
            <a href="index.html#home" class="mobile-nav-link">首页</a>
            <a href="index.html#portfolio" class="mobile-nav-link">作品集</a>
            <a href="index.html#about" class="mobile-nav-link">幕后</a>
            <a href="index.html#contact" class="mobile-nav-link">关于我</a>
        </div>
    </div>

    <!-- 分类头部 -->
    <header id="category-header" class="relative h-screen overflow-hidden">
        <div id="header-bg" class="absolute inset-0 bg-cover bg-center transition-transform duration-700"></div>
        <div class="relative z-10 h-full flex flex-col justify-center items-center text-center px-4">
            <h1 id="category-title" class="text-5xl md:text-7xl font-bold mb-4 opacity-0 translate-y-8"></h1>
            <p id="category-description" class="text-lg md:text-xl text-gray-200 opacity-0 translate-y-8"></p>
        </div>
    </header>

    <!-- 搜索栏 -->
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-2xl mx-auto relative">
            <div class="relative">
                <input 
                    type="text" 
                    id="search-input" 
                    placeholder="搜索作品标题或描述..." 
                    class="w-full bg-[#1A1A24] border border-gray-700 rounded-full px-6 py-3 pl-12 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-300"
                    style="background-color: var(--bg-secondary); border-color: var(--border-color); color: var(--text-primary);"
                >
                <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                <button id="clear-search" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                </button>
            </div>
            <div id="search-results" class="mt-2 text-sm text-gray-400 text-center opacity-0 transition-opacity duration-300"></div>
        </div>
    </div>

    <!-- 作品网格 -->
    <main class="container mx-auto px-4 pb-20">
        <div id="portfolio-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6">
            <!-- 作品卡片将通过JavaScript动态加载 -->
        </div>
        
        <!-- 无结果提示 -->
        <div id="no-results" class="hidden text-center py-20">
            <svg class="mx-auto mb-4 text-gray-600" xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/><path d="M9 9l6 6"/><path d="m15 9-6 6"/></svg>
            <p class="text-xl text-gray-400">没有找到匹配的作品</p>
            <button id="reset-search" class="mt-4 text-blue-400 hover:text-blue-300 transition-colors">清除搜索条件</button>
        </div>
    </main>

    <!-- 全屏查看器 -->
    <div id="fullscreen-viewer" class="fixed inset-0 z-[100] hidden">
        <!-- 背景 -->
        <div class="absolute inset-0 bg-black/90 backdrop-blur-sm" style="background-color: var(--overlay-bg, rgba(0, 0, 0, 0.9));"></div>
        
        <!-- 关闭按钮 -->
        <button id="close-viewer" class="absolute top-4 right-4 z-20 p-2 rounded-full transition-all opacity-70 hover:opacity-100" style="background-color: rgba(0, 0, 0, 0.5); color: #ffffff; border: none;">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        </button>
        
        <!-- 导航按钮 -->
        <button id="prev-image" class="absolute left-4 top-1/2 transform -translate-y-1/2 z-20 p-2 rounded-full transition-all opacity-70 hover:opacity-100" style="background-color: rgba(0, 0, 0, 0.5); color: #ffffff; border: none;">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
        </button>
        <button id="next-image" class="absolute right-4 top-1/2 transform -translate-y-1/2 z-20 p-2 rounded-full transition-all opacity-70 hover:opacity-100" style="background-color: rgba(0, 0, 0, 0.5); color: #ffffff; border: none;">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
        </button>
        
        <!-- 图片容器 -->
        <div id="viewer-container" class="absolute inset-0 flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing">
            <div id="viewer-image-wrapper" class="relative transition-transform duration-300">
                <img id="viewer-image" src="" alt="" class="max-w-full max-h-full object-contain select-none" loading="lazy">
            </div>
        </div>
        
        <!-- 图片信息 -->
        <div id="viewer-info" class="absolute bottom-0 left-0 right-0 p-6 z-10">
            <div class="container mx-auto">
                <h3 id="viewer-title" class="text-xl md:text-2xl font-bold mb-2" style="color: #FFFFFF !important; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);"></h3>
                <p id="viewer-caption" class="text-gray-300" style="color: #e0e0e0 !important; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);"></p>
                <div id="viewer-counter" class="mt-2 text-sm text-gray-400" style="color: #9ca3af !important; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);"></div>
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="bg-[#0A0A0F] py-8" style="background-color: var(--bg-primary);">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2025 JUNJUN。保留所有权利。</p>
        </div>
    </footer>

    <!-- 引入外部JavaScript文件 -->
    <script src="script.js"></script>
    <script src="portfolio-category.js"></script>
</body>
</html>